% FUNCTION DESCRIPTION: this function computes the linear velocity of the
% Franka robot end-effector. The robot model used for the computation of
% the ee velocity is the one obtained from the frankaRBTModel.m file.
% INPUT: 1) q = robot configuration vector
%        2) dq = robot joint velocity vector
% OUTPUT: vel = end-effector linear velocity vector
%
function v = frankaVel(q,dq)
%FRANKAVEL
%    V = FRANKAVEL(IN1,IN2)

%    This function was generated by the Symbolic Math Toolbox version 8.5.
%    07-Jun-2021 15:16:48

dq1 = dq(1,:);
dq2 = dq(2,:);
dq3 = dq(3,:);
dq4 = dq(4,:);
dq5 = dq(5,:);
dq6 = dq(6,:);
dq7 = dq(7,:);
dq8 = dq(8,:);
q1 = q(1,:);
q2 = q(2,:);
q3 = q(3,:);
q4 = q(4,:);
q5 = q(5,:);
q6 = q(6,:);
q7 = q(7,:);
q8 = q(8,:);
t2 = cos(q1);
t3 = cos(q2);
t4 = cos(q3);
t5 = cos(q4);
t6 = cos(q5);
t7 = cos(q6);
t8 = cos(q7);
t9 = cos(q8);
t10 = sin(q1);
t11 = sin(q2);
t12 = sin(q3);
t13 = sin(q4);
t14 = sin(q5);
t15 = sin(q6);
t16 = sin(q7);
t17 = sin(q8);
t18 = t2.*t4;
t19 = t3.*t5;
t20 = t2.*t12;
t21 = t4.*t10;
t22 = t3.*t13;
t23 = t5.*t11;
t24 = t10.*t12;
t25 = t11.*t13;
t27 = t11.*t12.*t14;
t43 = t3.*t12.*t14;
t44 = t4.*t11.*t14;
t45 = t6.*t11.*t12;
t26 = t10.*t25;
t28 = t3.*t18;
t29 = t2.*t19;
t30 = t4.*t19;
t31 = t3.*t20;
t32 = t3.*t21;
t33 = t2.*t22;
t34 = t2.*t23;
t35 = t10.*t19;
t36 = t4.*t22;
t37 = t4.*t23;
t38 = t3.*t24;
t39 = t2.*t25;
t40 = t10.*t22;
t41 = t10.*t23;
t42 = t4.*t25;
t46 = t18.*t23;
t47 = t18.*t25;
t48 = t21.*t23;
t49 = t6.*t12.*t23;
t51 = t21.*t25;
t52 = t11.*t14.*t20;
t55 = t11.*t14.*t24;
t59 = -t43;
t60 = -t45;
t50 = -t28;
t53 = -t36;
t54 = -t37;
t56 = -t38;
t57 = -t39;
t58 = -t41;
t61 = -t46;
t62 = -t48;
t63 = t20+t32;
t64 = t21+t31;
t65 = t19+t42;
t66 = t25+t30;
t79 = t29+t47;
t80 = t35+t51;
t81 = t44+t49;
t67 = t18+t56;
t68 = t24+t50;
t69 = t22+t54;
t70 = t23+t53;
t71 = t5.*t63;
t72 = t6.*t64;
t73 = t6.*t66;
t74 = t7.*t65;
t75 = t13.*t63;
t76 = t14.*t63;
t77 = t14.*t64;
t78 = t15.*t65;
t92 = t33+t61;
t93 = t40+t62;
t82 = t5.*t72;
t83 = t5.*t68;
t84 = t6.*t67;
t85 = -t72;
t86 = t6.*t69;
t87 = -t74;
t88 = t13.*t68;
t89 = t14.*t67;
t90 = t14.*t68;
t91 = t14.*t69;
t97 = t6.*t92;
t98 = t6.*t93;
t100 = t26+t71;
t101 = t58+t75;
t104 = t59+t73;
t110 = -t7.*(t41-t75);
t113 = -t15.*(t41-t75);
t94 = t5.*t84;
t95 = -t82;
t96 = -t84;
t102 = t27+t86;
t103 = t34+t88;
t105 = t6.*t100;
t106 = t14.*t100;
t107 = t60+t91;
t108 = t57+t83;
t115 = -t6.*(t39-t83);
t116 = -t14.*(t39-t83);
t117 = t52+t97;
t118 = t55+t98;
t134 = -t16.*(t72+t14.*(t39-t83));
t136 = t16.*(t72+t14.*(t39-t83));
t99 = -t94;
t109 = t7.*t103;
t111 = t15.*t103;
t112 = t7.*t102;
t114 = t15.*t102;
t120 = t90+t95;
t121 = t89+t105;
t123 = t77+t115;
t124 = t96+t106;
t128 = t85+t116;
t132 = -t16.*(t84-t106);
t135 = t16.*(t84-t106);
t119 = t76+t99;
t122 = t78+t112;
t125 = t87+t114;
t126 = t7.*t121;
t127 = t15.*t121;
t129 = t7.*t123;
t130 = t15.*t123;
t131 = -t126;
t133 = -t129;
t137 = t110+t127;
t139 = t109+t130;
t141 = -t8.*(t126+t15.*(t41-t75));
t138 = t113+t131;
t140 = t111+t133;
t143 = t135+t141;
t142 = t8.*t140;
t144 = t136+t142;
v = [dq2.*(t29.*(4.8e+1./1.25e+2)-t33.*(3.3e+1./4.0e+2)+t46.*(3.3e+1./4.0e+2)+t47.*(4.8e+1./1.25e+2)+t9.*(t16.*(t14.*t92-t6.*t11.*t20)+t8.*(t15.*t79+t7.*t117)).*(3.0./2.0e+1)+t2.*t3.*(7.9e+1./2.5e+2)-t11.*t18.*(3.3e+1./4.0e+2)-t7.*t79.*(1.07e+2./1.0e+3)+t15.*t79.*(1.1e+1./1.25e+2)+t7.*t117.*(1.1e+1./1.25e+2)+t15.*t117.*(1.07e+2./1.0e+3)-t17.*(t7.*t79-t15.*t117).*(3.0./2.0e+1))-dq1.*(t20.*(3.3e+1./4.0e+2)-t26.*(3.3e+1./4.0e+2)+t32.*(3.3e+1./4.0e+2)+t41.*(4.8e+1./1.25e+2)-t71.*(3.3e+1./4.0e+2)-t75.*(4.8e+1./1.25e+2)+t126.*(1.1e+1./1.25e+2)+t127.*(1.07e+2./1.0e+3)+t10.*t11.*(7.9e+1./2.5e+2)+t17.*t137.*(3.0./2.0e+1)-t7.*(t41-t75).*(1.07e+2./1.0e+3)+t15.*(t41-t75).*(1.1e+1./1.25e+2)+t9.*(t132+t8.*(t126+t15.*(t41-t75))).*(3.0./2.0e+1))-dq5.*(t9.*(t16.*t123+t7.*t8.*(t72+t14.*(t39-t83))).*(3.0./2.0e+1)+t7.*(t72+t14.*(t39-t83)).*(1.1e+1./1.25e+2)+t15.*(t72+t14.*(t39-t83)).*(1.07e+2./1.0e+3)+t15.*t17.*(t72+t14.*(t39-t83)).*(3.0./2.0e+1))+dq6.*(t109.*(1.1e+1./1.25e+2)+t111.*(1.07e+2./1.0e+3)-t129.*(1.07e+2./1.0e+3)+t130.*(1.1e+1./1.25e+2)+t17.*t140.*(3.0./2.0e+1)+t8.*t9.*t139.*(3.0./2.0e+1))-dq3.*(t21.*(3.3e+1./4.0e+2)+t31.*(3.3e+1./4.0e+2)-t5.*t64.*(3.3e+1./4.0e+2)-t13.*t64.*(4.8e+1./1.25e+2)+t9.*(t8.*(t7.*(t82-t90)-t13.*t15.*t64)+t16.*(t6.*t68+t5.*t77)).*(3.0./2.0e+1)+t17.*(t15.*(t82-t90)+t7.*t13.*t64).*(3.0./2.0e+1)+t7.*(t82-t90).*(1.1e+1./1.25e+2)+t15.*(t82-t90).*(1.07e+2./1.0e+3)+t7.*t13.*t64.*(1.07e+2./1.0e+3)-t13.*t15.*t64.*(1.1e+1./1.25e+2))-dq8.*(t9.*t139.*(3.0./2.0e+1)+t17.*t144.*(3.0./2.0e+1))+dq4.*(t34.*(-3.3e+1./4.0e+2)-t39.*(4.8e+1./1.25e+2)+t83.*(4.8e+1./1.25e+2)-t88.*(3.3e+1./4.0e+2)+t6.*t109.*(1.1e+1./1.25e+2)+t6.*t111.*(1.07e+2./1.0e+3)+t7.*(t39-t83).*(1.07e+2./1.0e+3)-t15.*(t39-t83).*(1.1e+1./1.25e+2)+t9.*(t8.*(t6.*t109-t15.*(t39-t83))+t14.*t16.*t103).*(3.0./2.0e+1)+t17.*(t6.*t111+t7.*(t39-t83)).*(3.0./2.0e+1))+dq7.*t9.*(t8.*(t72+t14.*(t39-t83))-t16.*t140).*(3.0./2.0e+1);dq2.*(t35.*(4.8e+1./1.25e+2)-t40.*(3.3e+1./4.0e+2)+t48.*(3.3e+1./4.0e+2)+t51.*(4.8e+1./1.25e+2)+t9.*(t16.*(t14.*t93-t6.*t11.*t24)+t8.*(t15.*t80+t7.*t118)).*(3.0./2.0e+1)+t3.*t10.*(7.9e+1./2.5e+2)-t11.*t21.*(3.3e+1./4.0e+2)-t7.*t80.*(1.07e+2./1.0e+3)+t15.*t80.*(1.1e+1./1.25e+2)+t7.*t118.*(1.1e+1./1.25e+2)+t15.*t118.*(1.07e+2./1.0e+3)-t17.*(t7.*t80-t15.*t118).*(3.0./2.0e+1))-dq4.*(t26.*(4.8e+1./1.25e+2)+t41.*(3.3e+1./4.0e+2)+t71.*(4.8e+1./1.25e+2)-t75.*(3.3e+1./4.0e+2)-t7.*t100.*(1.07e+2./1.0e+3)+t15.*t100.*(1.1e+1./1.25e+2)-t17.*(t7.*t100+t6.*t15.*(t41-t75)).*(3.0./2.0e+1)+t9.*(t8.*(t15.*t100+t6.*t110)-t14.*t16.*(t41-t75)).*(3.0./2.0e+1)-t6.*t7.*(t41-t75).*(1.1e+1./1.25e+2)-t6.*t15.*(t41-t75).*(1.07e+2./1.0e+3))+dq8.*(t9.*t137.*(3.0./2.0e+1)-t17.*(t132+t8.*(t126+t15.*(t41-t75))).*(3.0./2.0e+1))+dq1.*(t24.*(-3.3e+1./4.0e+2)+t28.*(3.3e+1./4.0e+2)+t34.*(4.8e+1./1.25e+2)-t39.*(3.3e+1./4.0e+2)+t83.*(3.3e+1./4.0e+2)+t88.*(4.8e+1./1.25e+2)-t109.*(1.07e+2./1.0e+3)+t111.*(1.1e+1./1.25e+2)-t129.*(1.1e+1./1.25e+2)-t130.*(1.07e+2./1.0e+3)+t2.*t11.*(7.9e+1./2.5e+2)+t9.*t144.*(3.0./2.0e+1)-t17.*t139.*(3.0./2.0e+1))+dq5.*(t9.*(t16.*t121+t7.*t8.*(t84-t106)).*(3.0./2.0e+1)+t7.*(t84-t106).*(1.1e+1./1.25e+2)+t15.*(t84-t106).*(1.07e+2./1.0e+3)+t15.*t17.*(t84-t106).*(3.0./2.0e+1))+dq6.*(t126.*(1.07e+2./1.0e+3)-t127.*(1.1e+1./1.25e+2)+t17.*(t126+t15.*(t41-t75)).*(3.0./2.0e+1)+t7.*(t41-t75).*(1.1e+1./1.25e+2)+t15.*(t41-t75).*(1.07e+2./1.0e+3)-t8.*t9.*t137.*(3.0./2.0e+1))-dq3.*(t18.*(-3.3e+1./4.0e+2)+t38.*(3.3e+1./4.0e+2)+t9.*(t8.*(t7.*t119+t13.*t15.*t67)-t16.*(t6.*t63+t5.*t89)).*(3.0./2.0e+1)+t17.*(t15.*t119-t7.*t13.*t67).*(3.0./2.0e+1)+t5.*t67.*(3.3e+1./4.0e+2)+t13.*t67.*(4.8e+1./1.25e+2)+t7.*t119.*(1.1e+1./1.25e+2)+t15.*t119.*(1.07e+2./1.0e+3)-t7.*t13.*t67.*(1.07e+2./1.0e+3)+t13.*t15.*t67.*(1.1e+1./1.25e+2))-dq7.*t9.*(t16.*(t126+t15.*(t41-t75))+t8.*(t84-t106)).*(3.0./2.0e+1);dq4.*(t19.*(-3.3e+1./4.0e+2)-t22.*(4.8e+1./1.25e+2)+t37.*(4.8e+1./1.25e+2)-t42.*(3.3e+1./4.0e+2)+t7.*t69.*(1.07e+2./1.0e+3)+t6.*t74.*(1.1e+1./1.25e+2)+t6.*t78.*(1.07e+2./1.0e+3)-t15.*t69.*(1.1e+1./1.25e+2)+t9.*(t8.*(t6.*t74-t15.*t69)+t14.*t16.*t65).*(3.0./2.0e+1)+t17.*(t7.*t69+t6.*t78).*(3.0./2.0e+1))+dq3.*(t9.*(t8.*(t7.*t81-t12.*t15.*t25)-t16.*(t4.*t6.*t11-t12.*t14.*t23)).*(3.0./2.0e+1)+t17.*(t15.*t81+t7.*t12.*t25).*(3.0./2.0e+1)+t11.*t12.*(3.3e+1./4.0e+2)-t12.*t23.*(3.3e+1./4.0e+2)-t12.*t25.*(4.8e+1./1.25e+2)+t7.*t81.*(1.1e+1./1.25e+2)+t15.*t81.*(1.07e+2./1.0e+3)+t7.*t12.*t25.*(1.07e+2./1.0e+3)-t12.*t15.*t25.*(1.1e+1./1.25e+2))+dq2.*(t11.*(-7.9e+1./2.5e+2)-t23.*(4.8e+1./1.25e+2)+t25.*(3.3e+1./4.0e+2)+t30.*(3.3e+1./4.0e+2)+t36.*(4.8e+1./1.25e+2)-t3.*t4.*(3.3e+1./4.0e+2)+t7.*t70.*(1.07e+2./1.0e+3)-t15.*t70.*(1.1e+1./1.25e+2)-t9.*(t16.*(t14.*t66+t3.*t6.*t12)+t8.*(t15.*t70-t7.*(t43-t73))).*(3.0./2.0e+1)+t7.*(t43-t73).*(1.1e+1./1.25e+2)+t15.*(t43-t73).*(1.07e+2./1.0e+3)+t17.*(t7.*t70+t15.*(t43-t73)).*(3.0./2.0e+1))+dq5.*(t9.*(t16.*t102+t7.*t8.*(t45-t91)).*(3.0./2.0e+1)+t7.*(t45-t91).*(1.1e+1./1.25e+2)+t15.*(t45-t91).*(1.07e+2./1.0e+3)+t15.*t17.*(t45-t91).*(3.0./2.0e+1))-dq8.*(t9.*(t74-t114).*(3.0./2.0e+1)+t17.*(t8.*t122-t16.*(t45-t91)).*(3.0./2.0e+1))+dq6.*(t74.*(1.1e+1./1.25e+2)+t78.*(1.07e+2./1.0e+3)+t112.*(1.07e+2./1.0e+3)-t114.*(1.1e+1./1.25e+2)+t17.*t122.*(3.0./2.0e+1)+t8.*t9.*(t74-t114).*(3.0./2.0e+1))-dq7.*t9.*(t16.*t122+t8.*(t45-t91)).*(3.0./2.0e+1)];
